reference dataset:  test-files/conflate/unified/AllDataTypesA.osm
secondary dataset:  test-files/conflate/unified/AllDataTypesB.osm
AOI:  -104.8192,38.8162,-104.6926,38.9181
TEST_NAME:  ServiceOsmApiDbHootApiDbAllDataTypesConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

19:33:54.545 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:54.549 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm...
19:33:54.551 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:54.816 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
19:33:54.820 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
19:33:54.826 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
19:33:54.828 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
19:33:54.833 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
19:33:54.833 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
19:33:54.833 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
19:33:54.833 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681
19:33:54.834 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 681 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:33:55.097 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681

STEP 5: Writing the complete secondary dataset to the hoot api db...

19:33:55.322 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
19:33:55.326 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm...
19:33:55.327 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

19:33:55.776 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest
19:33:55.777 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:55.818 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
19:33:55.882 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
19:33:55.883 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
19:33:55.883 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
19:33:55.883 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 12         
19:33:55.973 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
19:33:55.974 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
19:33:56.034 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
19:33:56.034 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
19:33:56.034 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
19:33:56.034 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
19:33:56.035 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
19:33:56.072 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
19:33:56.072 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
19:33:56.479 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
19:33:56.524 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
19:33:56.526 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
19:33:56.526 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
19:33:56.527 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
19:33:56.527 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
19:33:56.528 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 0
19:33:56.528 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
19:33:56.529 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 4 mergers...
19:33:56.529 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
19:33:56.529 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 10         
19:33:56.530 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:33:56.530 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
19:33:56.530 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
19:33:56.530 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
19:33:56.531 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
19:33:56.531 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
19:33:56.531 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
19:33:56.531 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 10         
19:33:56.532 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
19:33:56.684 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

19:33:56.956 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
19:33:56.957 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:56.994 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

19:33:57.262 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
19:33:57.263 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:57.299 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
19:33:57.341 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

19:33:57.600 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.874783, max_lat=38.910969, min_lon=-104.720860, max_lon=-104.714569, num_changes=5
Node(s) Created: 4
Node(s) Modified: 1
Node(s) Deleted: 0
Way(s) Created: 0
Way(s) Modified: 0
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

19:33:57.888 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:33:57.890 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:33:57.918 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
19:33:57.989 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:33:58.267 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/output.osm...
19:33:58.275 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

