reference dataset:  test-files/conflate/unified/AllDataTypesA.osm
secondary dataset:  test-files/conflate/unified/AllDataTypesB.osm
AOI:  -104.8192,38.8162,-104.6926,38.9181
TEST_NAME:  ServiceOsmApiDbHootApiDbAllDataTypesConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

16:00:51.443 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:51.447 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm...
16:00:51.449 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:51.531 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
16:00:51.536 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
16:00:51.547 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
16:00:51.551 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681
16:00:51.554 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 681 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:00:51.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681

STEP 5: Writing the complete secondary dataset to the hoot api db...

16:00:51.808 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
16:00:51.812 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm...
16:00:51.814 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

16:00:52.109 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest
16:00:52.110 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:52.139 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
16:00:52.206 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
16:00:52.206 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
16:00:52.207 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
16:00:52.207 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 12         
16:00:52.291 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
16:00:52.292 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
16:00:52.356 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
16:00:52.356 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
16:00:52.356 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
16:00:52.356 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
16:00:52.356 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
16:00:52.357 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
16:00:52.357 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:00:52.357 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
16:00:52.357 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
16:00:52.357 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
16:00:52.395 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
16:00:52.395 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
16:00:52.814 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
16:00:52.857 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
16:00:52.860 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
16:00:52.860 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
16:00:52.860 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
16:00:52.861 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
16:00:52.863 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 0
16:00:52.863 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
16:00:52.863 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 4 mergers...
16:00:52.864 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 10         
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:00:52.864 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
16:00:52.864 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
16:00:52.865 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 10         
16:00:52.865 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
16:00:53.018 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

16:00:53.171 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
16:00:53.172 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:53.205 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

16:00:53.414 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
16:00:53.415 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:53.441 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
16:00:53.496 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

16:00:53.629 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.874783, max_lat=38.910969, min_lon=-104.720860, max_lon=-104.714569, num_changes=5
Node(s) Created: 4
Node(s) Modified: 1
Node(s) Deleted: 0
Way(s) Created: 0
Way(s) Modified: 0
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

16:00:53.803 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:00:53.806 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:53.830 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
16:00:53.923 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:00:54.059 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/output.osm...
16:00:54.065 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

