reference dataset:  test-files/conflate/unified/AllDataTypesA.osm
secondary dataset:  test-files/conflate/unified/AllDataTypesB.osm
AOI:  -104.8192,38.8162,-104.6926,38.9181
TEST_NAME:  ServiceOsmApiDbHootApiDbAllDataTypesConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

14:20:31.557 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:31.561 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm...
14:20:31.563 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:31.650 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
14:20:31.656 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
14:20:31.663 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
14:20:31.666 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681
14:20:31.671 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 681 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 49
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:31.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 681

STEP 5: Writing the complete secondary dataset to the hoot api db...

14:20:31.923 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
14:20:31.926 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm...
14:20:31.929 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

14:20:32.226 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest
14:20:32.227 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:32.267 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
14:20:32.336 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
14:20:32.336 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
14:20:32.336 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
14:20:32.336 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 12         
14:20:32.426 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
14:20:32.427 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
14:20:32.494 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
14:20:32.494 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
14:20:32.494 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
14:20:32.494 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
14:20:32.495 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
14:20:32.535 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
14:20:32.535 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
14:20:32.958 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
14:20:33.004 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
14:20:33.006 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
14:20:33.007 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
14:20:33.007 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
14:20:33.008 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
14:20:33.010 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 0
14:20:33.010 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
14:20:33.010 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 4 mergers...
14:20:33.011 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
14:20:33.011 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 10         
14:20:33.011 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:33.011 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
14:20:33.011 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
14:20:33.011 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
14:20:33.011 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
14:20:33.012 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
14:20:33.012 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
14:20:33.012 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 10         
14:20:33.012 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
14:20:33.129 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

14:20:33.264 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
14:20:33.266 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:33.291 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

14:20:33.484 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
14:20:33.486 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:33.523 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
14:20:33.584 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

14:20:33.717 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.874783, max_lat=38.910969, min_lon=-104.720860, max_lon=-104.714569, num_changes=5
Node(s) Created: 4
Node(s) Modified: 1
Node(s) Deleted: 0
Way(s) Created: 0
Way(s) Modified: 0
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

14:20:33.884 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:33.887 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:33.907 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
14:20:33.941 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:34.078 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/output.osm...
14:20:34.084 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

