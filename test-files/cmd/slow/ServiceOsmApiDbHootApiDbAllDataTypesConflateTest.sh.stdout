reference dataset:  test-files/conflate/unified/AllDataTypesA.osm
secondary dataset:  test-files/conflate/unified/AllDataTypesB.osm
AOI:  -104.8192,38.8162,-104.6926,38.9181
TEST_NAME:  ServiceOsmApiDbHootApiDbAllDataTypesConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

18:09:32.865 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:32.868 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm...
18:09:32.871 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:32.957 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 772) Streaming elements from input to file outputs.  (data pass #1 of 3)...
18:09:32.963 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 352) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
18:09:32.972 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 731) Writing sequence ID updates to database to reserve record IDs...
18:09:32.976 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 483) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 622) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 399) File write stats:
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 117
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 49
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 14
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 121
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 39
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 0
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 0
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 0
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 681
18:09:32.982 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 430) Executing element SQL for 681 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 437) SQL execution complete.  Time elapsed: 00:00
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 405) Final database write stats:
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 117
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 49
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 14
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 121
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 39
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 0
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 0
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 0
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:33.109 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 681

STEP 5: Writing the complete secondary dataset to the hoot api db...

18:09:33.247 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:09:33.251 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm...
18:09:33.254 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

18:09:33.558 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 121) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest
18:09:33.558 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:33.598 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:09:33.751 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 164) Applying pre-conflation operations...
18:09:33.751 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
18:09:33.751 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
18:09:33.751 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 12         
18:09:33.836 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
18:09:33.837 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
18:09:33.902 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
18:09:33.902 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
18:09:33.902 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
18:09:33.902 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
18:09:33.902 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
18:09:33.903 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
18:09:33.903 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:09:33.903 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
18:09:33.903 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
18:09:33.903 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
18:09:33.940 INFO  ...conflate/UnifyingConflator.cpp( 126) Applying pre-unifying conflation operations...
18:09:33.940 INFO  ...lygon/BuildingMatchCreator.cpp( 255) Creating matches with: hoot::BuildingMatchCreator...
18:09:34.350 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
18:09:34.395 INFO  ...ighway/HighwayMatchCreator.cpp( 276) Creating matches with: hoot::HighwayMatchCreator...
18:09:34.396 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
18:09:34.397 INFO  ...ate/SearchRadiusCalculator.cpp( 151) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
18:09:34.397 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
18:09:34.398 INFO  ...gon/PoiPolygonMatchCreator.cpp( 347) Creating matches with: hoot::PoiPolygonMatchCreator...
18:09:34.399 INFO  ...conflate/UnifyingConflator.cpp( 228) Match count: 0
18:09:34.399 INFO  ...conflate/UnifyingConflator.cpp( 245) Creating mergers...
18:09:34.399 INFO  ...conflate/UnifyingConflator.cpp( 262) Applying 4 mergers...
18:09:34.400 INFO  ...conflate/UnifyingConflator.cpp( 294) Applying post-unifying conflation operations...
18:09:34.400 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 10         
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:09:34.401 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 190) Applying post-conflation operations...
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
18:09:34.401 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 10         
18:09:34.402 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:09:34.580 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 249) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

18:09:34.736 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
18:09:34.737 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:34.775 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

18:09:34.998 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
18:09:34.999 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:35.038 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:09:35.105 INFO  .../OsmChangesetXmlFileWriter.cpp(  90) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

18:09:35.246 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  62) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.874783, max_lat=38.910969, min_lon=-104.720860, max_lon=-104.714569, num_changes=5
Node(s) Created: 4
Node(s) Modified: 1
Node(s) Deleted: 0
Way(s) Created: 0
Way(s) Modified: 0
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

18:09:35.439 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:09:35.442 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:35.466 INFO  ...oot/core/io/OsmApiDbReader.cpp( 111) Executing OSM API read query...
18:09:35.555 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:09:35.694 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/output.osm...
18:09:35.706 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

