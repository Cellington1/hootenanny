reference dataset:  test-files/conflate/unified/AllDataTypesA.osm
secondary dataset:  test-files/conflate/unified/AllDataTypesB.osm
AOI:  -104.8192,38.8162,-104.6926,38.9181
TEST_NAME:  ServiceOsmApiDbHootApiDbAllDataTypesConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

18:27:56.521 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:27:56.525 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.osm...
18:27:56.528 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:27:56.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
18:27:56.727 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
18:27:56.733 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
18:27:56.735 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 38
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
18:27:56.740 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
18:27:56.741 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 659
18:27:56.741 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 659 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
18:27:56.960 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
18:27:56.960 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
18:27:56.960 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 117
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 38
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 14
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 121
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 39
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
18:27:56.961 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 659

STEP 5: Writing the complete secondary dataset to the hoot api db...

18:27:57.306 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:27:57.308 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/5-secondary-raw-complete.osm...
18:27:57.312 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

18:27:57.702 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest
18:27:57.703 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:27:57.737 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:27:57.809 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
18:27:57.809 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
18:27:57.809 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
18:27:57.809 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 12         
18:27:57.901 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
18:27:57.902 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
18:27:57.965 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
18:27:57.966 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
18:27:58.005 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
18:27:58.006 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
18:27:58.438 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
18:27:58.480 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
18:27:58.481 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
18:27:58.483 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
18:27:58.483 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
18:27:58.484 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
18:27:58.484 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 0
18:27:58.484 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
18:27:58.484 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 4 mergers...
18:27:58.486 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 9         
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:27:58.486 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
18:27:58.486 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 9         
18:27:58.487 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:27:58.655 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

18:27:58.991 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
18:27:58.992 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:27:59.036 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

18:27:59.430 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
18:27:59.431 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:27:59.466 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbAllDataTypesConflateTest...
18:27:59.517 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

18:27:59.810 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.831959, max_lat=38.910969, min_lon=-104.777218, max_lon=-104.714569, num_changes=6
Node(s) Created: 3
Node(s) Modified: 3
Node(s) Deleted: 0
Way(s) Created: 0
Way(s) Modified: 0
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

18:28:00.157 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:28:00.161 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:28:00.191 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
18:28:00.276 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:28:00.540 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/output.osm...
18:28:00.548 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbAllDataTypesConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

