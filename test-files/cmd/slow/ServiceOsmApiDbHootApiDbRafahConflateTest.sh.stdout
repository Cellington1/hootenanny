reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/rafah-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/secondary.osm
AOI:  34.04725915004996,31.17907522629906,34.05654176863703,31.18329523832873
TEST_NAME:  ServiceOsmApiDbHootApiDbRafahConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

18:09:57.768 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:57.772 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm...
18:09:57.775 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (505134642) in relation (3934458).
18:09:57.775 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (330666964) in relation (3934458).
18:09:57.775 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (2995490953) in relation (3934458).
18:09:57.775 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:4103404 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3824513 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3061827 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3062185 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3726175 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3061826 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3062184 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3584607 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3726124 in Relation:1473947.
18:09:57.775 WARN  ...portMissingElementsVisitor.cpp(  63) Missing Relation:3726170 in Relation:1473947.
18:09:57.776 WARN  ...portMissingElementsVisitor.cpp(  69) Reached maximum number of missing reports. No longer reporting.
18:09:57.776 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:57.861 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 772) Streaming elements from input to file outputs.  (data pass #1 of 3)...
18:09:57.867 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 352) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
18:09:57.874 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 731) Writing sequence ID updates to database to reserve record IDs...
18:09:57.877 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 483) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 622) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 399) File write stats:
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 41
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 0
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 19
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 58
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 60
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 2
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 18
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 250
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 897
18:09:57.882 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 430) Executing element SQL for 897 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 437) SQL execution complete.  Time elapsed: 00:00
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 405) Final database write stats:
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 41
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 0
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 19
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 58
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 60
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 2
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 18
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 250
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:58.011 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 897

STEP 5: Writing the complete secondary dataset to the hoot api db...

18:09:58.155 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
18:09:58.161 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm...
18:09:58.162 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

18:09:58.452 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 121) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest
18:09:58.454 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:58.532 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
18:09:58.623 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 164) Applying pre-conflation operations...
18:09:58.623 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
18:09:58.623 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
18:09:58.623 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 47         
18:09:58.670 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
18:09:58.670 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
18:09:58.740 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
18:09:58.740 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
18:09:58.741 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
18:09:58.741 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
18:09:58.741 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
18:09:58.741 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
18:09:58.742 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:09:58.742 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
18:09:58.742 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
18:09:58.743 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
18:09:58.779 INFO  ...conflate/UnifyingConflator.cpp( 126) Applying pre-unifying conflation operations...
18:09:58.780 INFO  ...lygon/BuildingMatchCreator.cpp( 255) Creating matches with: hoot::BuildingMatchCreator...
18:09:59.196 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
18:09:59.202 INFO  ...ighway/HighwayMatchCreator.cpp( 276) Creating matches with: hoot::HighwayMatchCreator...
18:10:00.810 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
18:10:00.810 INFO  ...ate/SearchRadiusCalculator.cpp( 151) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
18:10:00.810 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
18:10:00.817 INFO  ...gon/PoiPolygonMatchCreator.cpp( 347) Creating matches with: hoot::PoiPolygonMatchCreator...
18:10:00.817 INFO  .../OptimalConstrainedMatches.cpp(  57) Calculating optimal match conflicts...
18:10:00.837 INFO  ...h/GreedyConstrainedMatches.cpp(  70) Calculating greedy match conflicts...
18:10:00.837 INFO  ...conflate/UnifyingConflator.cpp( 228) Match count: 9
18:10:00.837 INFO  ...conflate/UnifyingConflator.cpp( 245) Creating mergers...
18:10:00.838 INFO  ...conflate/UnifyingConflator.cpp( 262) Applying 2 mergers...
18:10:00.844 INFO  ...conflate/UnifyingConflator.cpp( 294) Applying post-unifying conflation operations...
18:10:00.844 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 55         
18:10:00.845 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:10:00.845 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 190) Applying post-conflation operations...
18:10:00.845 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
18:10:00.846 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
18:10:00.846 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
18:10:00.846 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
18:10:00.846 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
18:10:00.846 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 47         
18:10:00.846 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
18:10:01.023 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 249) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

18:10:01.193 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
18:10:01.194 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:10:01.273 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

18:10:01.489 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
18:10:01.490 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:10:01.568 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
18:10:01.651 INFO  .../OsmChangesetXmlFileWriter.cpp(  90) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

18:10:01.790 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  62) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=31.179064, max_lat=31.183295, min_lon=34.047259, max_lon=34.056542, num_changes=26
Node(s) Created: 12
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 11
Way(s) Modified: 3
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

18:10:01.992 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:10:01.995 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:10:02.017 INFO  ...oot/core/io/OsmApiDbReader.cpp( 111) Executing OSM API read query...
18:10:02.087 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:10:02.238 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/output.osm...
18:10:02.245 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

