reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/rafah-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/secondary.osm
AOI:  34.04725915004996,31.17907522629906,34.05654176863703,31.18329523832873
TEST_NAME:  ServiceOsmApiDbHootApiDbRafahConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

19:35:44.311 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:44.315 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm...
19:35:44.318 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (505134642) in relation (3934458).
19:35:44.319 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (330666964) in relation (3934458).
19:35:44.319 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (2995490953) in relation (3934458).
19:35:44.319 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:4103404 in Relation:1473947.
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3824513 in Relation:1473947.
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061827 in Relation:1473947.
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062185 in Relation:1473947.
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726175 in Relation:1473947.
19:35:44.319 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061826 in Relation:1473947.
19:35:44.320 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062184 in Relation:1473947.
19:35:44.320 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3584607 in Relation:1473947.
19:35:44.320 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726124 in Relation:1473947.
19:35:44.320 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726170 in Relation:1473947.
19:35:44.320 WARN  ...portMissingElementsVisitor.cpp(  67) Reached maximum number of missing reports. No longer reporting.
19:35:44.320 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:44.533 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
19:35:44.537 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
19:35:44.546 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
19:35:44.551 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
19:35:44.556 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
19:35:44.556 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897
19:35:44.557 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 897 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
19:35:44.753 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:35:44.754 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897

STEP 5: Writing the complete secondary dataset to the hoot api db...

19:35:45.074 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
19:35:45.077 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm...
19:35:45.078 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

19:35:45.475 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest
19:35:45.476 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:45.533 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
19:35:45.609 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
19:35:45.610 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
19:35:45.610 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
19:35:45.610 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 47         
19:35:45.656 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
19:35:45.657 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
19:35:45.723 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
19:35:45.723 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
19:35:45.723 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
19:35:45.723 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
19:35:45.723 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
19:35:45.724 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
19:35:45.724 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:35:45.724 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
19:35:45.725 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
19:35:45.725 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
19:35:45.761 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
19:35:45.761 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
19:35:46.176 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
19:35:46.184 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
19:35:47.779 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
19:35:47.780 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
19:35:47.781 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
19:35:47.785 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
19:35:47.786 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
19:35:47.803 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
19:35:47.804 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 9
19:35:47.806 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
19:35:47.806 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 2 mergers...
19:35:47.811 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
19:35:47.811 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 55         
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:35:47.813 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
19:35:47.813 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
19:35:47.814 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 47         
19:35:47.814 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
19:35:48.021 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

19:35:48.250 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
19:35:48.251 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:48.320 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

19:35:48.663 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
19:35:48.665 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:48.716 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
19:35:48.792 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

19:35:49.027 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=31.179064, max_lat=31.183295, min_lon=34.047259, max_lon=34.056542, num_changes=26
Node(s) Created: 12
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 11
Way(s) Modified: 3
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

19:35:49.382 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:35:49.386 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:49.408 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
19:35:49.474 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:35:49.700 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/output.osm...
19:35:49.706 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

