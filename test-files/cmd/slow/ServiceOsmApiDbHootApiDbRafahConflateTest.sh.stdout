reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/rafah-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/secondary.osm
AOI:  34.04725915004996,31.17907522629906,34.05654176863703,31.18329523832873
TEST_NAME:  ServiceOsmApiDbHootApiDbRafahConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

16:01:15.302 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:15.306 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm...
16:01:15.306 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (505134642) in relation (3934458).
16:01:15.308 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (330666964) in relation (3934458).
16:01:15.309 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (2995490953) in relation (3934458).
16:01:15.309 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:4103404 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3824513 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061827 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062185 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726175 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061826 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062184 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3584607 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726124 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726170 in Relation:1473947.
16:01:15.309 WARN  ...portMissingElementsVisitor.cpp(  67) Reached maximum number of missing reports. No longer reporting.
16:01:15.309 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:15.394 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
16:01:15.400 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
16:01:15.409 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
16:01:15.413 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
16:01:15.414 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897
16:01:15.418 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 897 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:01:15.539 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897

STEP 5: Writing the complete secondary dataset to the hoot api db...

16:01:15.676 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
16:01:15.679 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm...
16:01:15.681 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

16:01:15.952 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest
16:01:15.953 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:15.999 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
16:01:16.091 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
16:01:16.091 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
16:01:16.091 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
16:01:16.091 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 47         
16:01:16.137 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
16:01:16.138 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
16:01:16.201 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
16:01:16.202 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
16:01:16.202 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
16:01:16.203 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
16:01:16.241 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
16:01:16.241 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
16:01:16.661 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
16:01:16.670 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
16:01:18.274 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
16:01:18.276 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
16:01:18.276 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
16:01:18.281 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
16:01:18.281 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
16:01:18.302 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
16:01:18.302 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 9
16:01:18.302 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
16:01:18.303 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 2 mergers...
16:01:18.309 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
16:01:18.309 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 55         
16:01:18.310 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:01:18.311 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
16:01:18.311 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 47         
16:01:18.311 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
16:01:18.473 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

16:01:18.629 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
16:01:18.631 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:18.672 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

16:01:18.909 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
16:01:18.910 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:18.984 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
16:01:19.047 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

16:01:19.181 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=31.179064, max_lat=31.183295, min_lon=34.047259, max_lon=34.056542, num_changes=26
Node(s) Created: 12
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 11
Way(s) Modified: 3
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

16:01:19.380 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:19.383 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:19.405 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
16:01:19.452 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:19.585 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/output.osm...
16:01:19.593 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

