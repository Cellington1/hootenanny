reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/rafah-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/secondary.osm
AOI:  34.04725915004996,31.17907522629906,34.05654176863703,31.18329523832873
TEST_NAME:  ServiceOsmApiDbHootApiDbRafahConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

14:20:55.398 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:55.399 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.osm...
14:20:55.405 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (505134642) in relation (3934458).
14:20:55.405 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (330666964) in relation (3934458).
14:20:55.405 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (2995490953) in relation (3934458).
14:20:55.405 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:4103404 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3824513 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061827 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062185 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726175 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3061826 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3062184 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3584607 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726124 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  61) Missing Relation:3726170 in Relation:1473947.
14:20:55.405 WARN  ...portMissingElementsVisitor.cpp(  67) Reached maximum number of missing reports. No longer reporting.
14:20:55.405 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:55.493 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
14:20:55.498 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
14:20:55.567 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
14:20:55.663 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897
14:20:55.669 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 897 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 41
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 19
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 58
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 60
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 2
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 18
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 250
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:55.781 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 897

STEP 5: Writing the complete secondary dataset to the hoot api db...

14:20:55.918 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
14:20:55.921 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/5-secondary-raw-complete.osm...
14:20:55.923 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

14:20:56.185 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest
14:20:56.186 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:56.229 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbRafahConflateTest...
14:20:57.455 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
14:20:57.455 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
14:20:57.455 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
14:20:57.456 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 47         
14:20:57.499 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
14:20:57.500 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
14:20:57.562 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
14:20:57.562 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
14:20:57.563 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
14:20:57.563 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
14:20:57.563 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
14:20:57.563 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
14:20:57.563 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:57.564 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
14:20:57.564 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
14:20:57.565 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
14:20:57.601 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
14:20:57.601 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
14:20:58.004 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
14:20:58.010 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
14:20:59.576 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
14:20:59.577 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
14:20:59.577 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
14:20:59.582 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
14:20:59.584 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
14:20:59.601 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
14:20:59.602 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 9
14:20:59.603 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
14:20:59.604 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 2 mergers...
14:20:59.610 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
14:20:59.610 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 55         
14:20:59.611 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:59.611 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
14:20:59.612 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 47         
14:20:59.612 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
14:20:59.756 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

14:20:59.910 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
14:20:59.914 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:59.994 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

14:21:00.197 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
14:21:00.198 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:21:00.243 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbRafahConflateTest...
14:21:00.321 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

14:21:00.457 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=31.179064, max_lat=31.183295, min_lon=34.047259, max_lon=34.056542, num_changes=26
Node(s) Created: 12
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 11
Way(s) Modified: 3
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

14:21:00.655 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:21:00.658 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:21:00.681 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
14:21:00.764 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:21:00.901 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/output.osm...
14:21:00.908 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbRafahConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

