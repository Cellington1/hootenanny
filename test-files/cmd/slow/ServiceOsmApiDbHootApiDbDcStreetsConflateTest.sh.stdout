reference dataset:  test-files/DcGisRoads.osm
secondary dataset:  test-files/DcTigerRoads.osm
AOI:  -77.04,38.8916,-77.03324,38.8958
TEST_NAME:  ServiceOsmApiDbHootApiDbDcStreetsConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

18:54:54.525 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:54:54.535 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm...
18:54:54.637 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:54:54.799 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
18:54:54.907 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
18:54:54.914 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
18:54:54.922 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
18:54:55.044 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
18:54:55.044 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
18:54:55.044 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 748
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 20,961
18:54:55.045 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 20,961 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 748
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
18:54:55.909 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 20,961

STEP 5: Writing the complete secondary dataset to the hoot api db...

18:54:56.974 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:54:56.983 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm...
18:54:57.056 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

18:54:58.438 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest
18:54:58.440 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:54:58.615 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:54:58.803 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
18:54:58.804 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
18:54:58.804 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
18:54:58.804 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 670         
18:54:58.873 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
18:54:58.882 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
18:54:59.064 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
18:54:59.064 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
18:54:59.068 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
18:54:59.069 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
18:54:59.070 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
18:54:59.071 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
18:54:59.072 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:54:59.075 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
18:54:59.077 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
18:54:59.079 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
18:54:59.144 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
18:54:59.144 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
18:54:59.707 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
18:54:59.735 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
18:55:01.748 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
18:55:01.796 INFO  ...ate/SearchRadiusCalculator.cpp( 154) Calculated search radius = 0.09867968543136341
18:55:01.799 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
18:55:01.829 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
18:55:01.836 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
18:55:01.982 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
18:55:01.982 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 36
18:55:01.982 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
18:55:01.984 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 25 mergers...
18:55:02.028 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
18:55:02.028 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 512         
18:55:02.030 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:55:02.031 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
18:55:02.031 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
18:55:02.031 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
18:55:02.032 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
18:55:02.032 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
18:55:02.032 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
18:55:02.033 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 478         
18:55:02.033 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:55:02.283 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

18:55:02.907 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
18:55:02.910 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:55:03.209 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

18:55:03.923 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
18:55:03.925 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:55:04.217 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:55:04.324 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

18:55:05.036 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.892093, max_lat=38.902523, min_lon=-77.050159, max_lon=-77.033632, num_changes=154
Node(s) Created: 109
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 20
Way(s) Modified: 25
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

18:55:05.937 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:55:05.944 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:55:05.969 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
18:55:07.263 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:55:08.108 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/output.osm...
18:55:08.253 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

