reference dataset:  test-files/DcGisRoads.osm
secondary dataset:  test-files/DcTigerRoads.osm
AOI:  -77.04,38.8916,-77.03324,38.8958
TEST_NAME:  ServiceOsmApiDbHootApiDbDcStreetsConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

14:20:35.930 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:35.934 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm...
14:20:36.019 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:36.106 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
14:20:36.215 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
14:20:36.223 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
14:20:36.227 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709
14:20:36.292 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 21,709 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:36.886 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709

STEP 5: Writing the complete secondary dataset to the hoot api db...

14:20:37.028 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
14:20:37.031 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm...
14:20:37.095 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

14:20:37.706 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest
14:20:37.707 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:37.877 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
14:20:38.036 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
14:20:38.036 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
14:20:38.036 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
14:20:38.036 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 670         
14:20:38.105 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
14:20:38.106 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
14:20:38.178 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
14:20:38.178 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
14:20:38.180 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
14:20:38.180 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
14:20:38.181 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
14:20:38.181 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
14:20:38.182 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:38.182 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
14:20:38.185 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
14:20:38.186 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
14:20:38.225 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
14:20:38.226 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
14:20:38.702 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
14:20:38.732 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
14:20:40.496 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
14:20:40.525 INFO  ...ate/SearchRadiusCalculator.cpp( 154) Calculated search radius = 0.09867968543136341
14:20:40.526 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
14:20:40.555 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
14:20:40.559 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
14:20:40.648 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
14:20:40.649 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 36
14:20:40.649 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
14:20:40.649 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 25 mergers...
14:20:40.689 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
14:20:40.689 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 512         
14:20:40.691 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:40.692 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
14:20:40.692 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
14:20:40.693 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
14:20:40.693 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
14:20:40.693 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
14:20:40.693 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
14:20:40.693 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 478         
14:20:40.694 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
14:20:40.919 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

14:20:41.091 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
14:20:41.092 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:41.371 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

14:20:41.645 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
14:20:41.647 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:41.913 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
14:20:42.004 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

14:20:42.142 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.892093, max_lat=38.902523, min_lon=-77.050159, max_lon=-77.033632, num_changes=154
Node(s) Created: 109
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 20
Way(s) Modified: 25
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

14:20:42.537 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:42.540 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:42.558 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
14:20:43.802 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:44.014 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/output.osm...
14:20:44.130 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

