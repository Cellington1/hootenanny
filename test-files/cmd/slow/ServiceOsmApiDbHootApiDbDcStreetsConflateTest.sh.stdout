reference dataset:  test-files/DcGisRoads.osm
secondary dataset:  test-files/DcTigerRoads.osm
AOI:  -77.04,38.8916,-77.03324,38.8958
TEST_NAME:  ServiceOsmApiDbHootApiDbDcStreetsConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

19:34:31.013 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:31.017 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm...
19:34:31.107 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:31.242 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
19:34:31.347 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
19:34:31.355 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
19:34:31.358 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
19:34:31.431 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709
19:34:31.432 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 21,709 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
19:34:32.051 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:34:32.052 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709

STEP 5: Writing the complete secondary dataset to the hoot api db...

19:34:32.262 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
19:34:32.265 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm...
19:34:32.334 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

19:34:33.129 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest
19:34:33.130 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:33.353 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
19:34:33.659 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
19:34:33.659 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
19:34:33.659 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
19:34:33.659 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 670         
19:34:33.731 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
19:34:33.732 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
19:34:33.794 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
19:34:33.794 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
19:34:33.796 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
19:34:33.796 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
19:34:33.797 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
19:34:33.797 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
19:34:33.798 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:34:33.799 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
19:34:33.801 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
19:34:33.803 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
19:34:33.842 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
19:34:33.842 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
19:34:34.310 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
19:34:34.343 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
19:34:36.110 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
19:34:36.137 INFO  ...ate/SearchRadiusCalculator.cpp( 154) Calculated search radius = 0.09867968543136341
19:34:36.138 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
19:34:36.163 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
19:34:36.168 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
19:34:36.263 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
19:34:36.263 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 36
19:34:36.263 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
19:34:36.263 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 25 mergers...
19:34:36.304 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
19:34:36.305 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 512         
19:34:36.307 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:34:36.308 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
19:34:36.308 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
19:34:36.308 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
19:34:36.308 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
19:34:36.308 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
19:34:36.309 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
19:34:36.309 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 478         
19:34:36.309 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
19:34:36.510 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

19:34:36.776 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
19:34:36.777 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:36.901 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

19:34:37.281 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
19:34:37.282 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:37.543 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
19:34:37.619 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

19:34:37.955 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.892093, max_lat=38.902523, min_lon=-77.050159, max_lon=-77.033632, num_changes=154
Node(s) Created: 109
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 20
Way(s) Modified: 25
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

19:34:38.471 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:34:38.475 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:34:38.496 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
19:34:39.476 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:34:39.879 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/output.osm...
19:34:39.993 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

