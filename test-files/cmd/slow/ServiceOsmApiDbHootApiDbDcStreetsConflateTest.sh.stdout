reference dataset:  test-files/DcGisRoads.osm
secondary dataset:  test-files/DcTigerRoads.osm
AOI:  -77.04,38.8916,-77.03324,38.8958
TEST_NAME:  ServiceOsmApiDbHootApiDbDcStreetsConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

18:09:37.531 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:37.535 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm...
18:09:37.619 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:37.702 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 772) Streaming elements from input to file outputs.  (data pass #1 of 3)...
18:09:37.810 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 352) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
18:09:37.817 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 731) Writing sequence ID updates to database to reserve record IDs...
18:09:37.819 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 483) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
18:09:37.888 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 622) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 399) File write stats:
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 4,324
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 0
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 374
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 5,034
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 1,122
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 0
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 0
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 0
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 21,709
18:09:37.889 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 430) Executing element SQL for 21,709 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 437) SQL execution complete.  Time elapsed: 00:00
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 405) Final database write stats:
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Nodes: 4,324
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Node tags: 0
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Ways: 374
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way nodes: 5,034
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Way tags: 1,122
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relations: 0
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation members: 0
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Relation tags: 0
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Unresolved relation members: 0
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changesets: 1
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Changeset change size (each): 50,000
18:09:38.507 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 280) 	Executable SQL records: 21,709

STEP 5: Writing the complete secondary dataset to the hoot api db...

18:09:38.647 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:09:38.652 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm...
18:09:38.724 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

18:09:39.389 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 121) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest
18:09:39.391 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:39.555 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:09:39.759 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 164) Applying pre-conflation operations...
18:09:39.760 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
18:09:39.760 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
18:09:39.760 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 670         
18:09:39.830 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
18:09:39.831 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
18:09:39.907 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
18:09:39.907 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
18:09:39.908 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
18:09:39.909 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
18:09:39.909 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
18:09:39.910 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
18:09:39.910 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:09:39.912 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
18:09:39.913 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
18:09:39.914 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
18:09:39.956 INFO  ...conflate/UnifyingConflator.cpp( 126) Applying pre-unifying conflation operations...
18:09:39.956 INFO  ...lygon/BuildingMatchCreator.cpp( 255) Creating matches with: hoot::BuildingMatchCreator...
18:09:40.470 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
18:09:40.496 INFO  ...ighway/HighwayMatchCreator.cpp( 276) Creating matches with: hoot::HighwayMatchCreator...
18:09:42.344 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
18:09:42.370 INFO  ...ate/SearchRadiusCalculator.cpp( 156) Calculated search radius = 0.09867968543136341
18:09:42.373 INFO  ...late/js/ScriptMatchCreator.cpp( 463) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
18:09:42.402 INFO  ...gon/PoiPolygonMatchCreator.cpp( 347) Creating matches with: hoot::PoiPolygonMatchCreator...
18:09:42.406 INFO  .../OptimalConstrainedMatches.cpp(  57) Calculating optimal match conflicts...
18:09:42.500 INFO  ...h/GreedyConstrainedMatches.cpp(  70) Calculating greedy match conflicts...
18:09:42.500 INFO  ...conflate/UnifyingConflator.cpp( 228) Match count: 36
18:09:42.500 INFO  ...conflate/UnifyingConflator.cpp( 245) Creating mergers...
18:09:42.501 INFO  ...conflate/UnifyingConflator.cpp( 262) Applying 25 mergers...
18:09:42.542 INFO  ...conflate/UnifyingConflator.cpp( 294) Applying post-unifying conflation operations...
18:09:42.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 512         
18:09:42.543 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
18:09:42.545 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 190) Applying post-conflation operations...
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
18:09:42.545 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 478         
18:09:42.546 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:09:42.762 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 249) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

18:09:42.924 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
18:09:42.926 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:43.199 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

18:09:43.478 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 109) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
18:09:43.484 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:43.600 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
18:09:43.683 INFO  .../OsmChangesetXmlFileWriter.cpp(  90) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

18:09:43.819 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  62) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.892093, max_lat=38.902523, min_lon=-77.050159, max_lon=-77.033632, num_changes=154
Node(s) Created: 109
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 20
Way(s) Modified: 25
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

18:09:44.207 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  87) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:09:44.210 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
18:09:44.227 INFO  ...oot/core/io/OsmApiDbReader.cpp( 111) Executing OSM API read query...
18:09:45.485 INFO  ...ore/io/OsmMapWriterFactory.cpp( 108) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
18:09:45.691 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/output.osm...
18:09:45.803 INFO  ...ore/io/OsmMapReaderFactory.cpp( 137) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

