reference dataset:  test-files/DcGisRoads.osm
secondary dataset:  test-files/DcTigerRoads.osm
AOI:  -77.04,38.8916,-77.03324,38.8958
TEST_NAME:  ServiceOsmApiDbHootApiDbDcStreetsConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

16:00:55.939 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:55.942 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.osm...
16:00:56.027 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:56.111 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
16:00:56.223 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
16:00:56.233 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
16:00:56.238 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:00:56.305 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709
16:00:56.306 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 21,709 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 4,324
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 0
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 374
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 5,034
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,122
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 0
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 0
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 0
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:00:56.873 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 21,709

STEP 5: Writing the complete secondary dataset to the hoot api db...

16:00:57.015 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
16:00:57.018 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/5-secondary-raw-complete.osm...
16:00:57.082 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

16:00:57.695 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest
16:00:57.696 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:00:57.904 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
16:00:58.122 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
16:00:58.122 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
16:00:58.122 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
16:00:58.122 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 670         
16:00:58.190 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
16:00:58.191 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
16:00:58.256 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
16:00:58.256 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
16:00:58.258 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
16:00:58.258 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
16:00:58.259 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
16:00:58.259 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
16:00:58.260 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:00:58.261 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
16:00:58.263 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
16:00:58.265 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
16:00:58.303 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
16:00:58.303 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
16:00:58.770 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
16:00:58.805 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
16:01:00.556 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
16:01:00.586 INFO  ...ate/SearchRadiusCalculator.cpp( 154) Calculated search radius = 0.09867968543136341
16:01:00.587 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
16:01:00.616 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
16:01:00.621 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
16:01:00.710 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
16:01:00.710 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 36
16:01:00.711 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
16:01:00.711 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 25 mergers...
16:01:00.751 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
16:01:00.751 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 512         
16:01:00.752 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:01:00.753 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
16:01:00.753 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
16:01:00.753 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
16:01:00.753 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
16:01:00.753 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
16:01:00.754 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
16:01:00.754 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 478         
16:01:00.754 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
16:01:00.984 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

16:01:01.144 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
16:01:01.145 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:01.289 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

16:01:01.570 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
16:01:01.571 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:01.683 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbDcStreetsConflateTest...
16:01:01.795 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

16:01:01.935 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=38.892093, max_lat=38.902523, min_lon=-77.050159, max_lon=-77.033632, num_changes=154
Node(s) Created: 109
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 20
Way(s) Modified: 25
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

16:01:02.322 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:02.326 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:02.349 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
16:01:03.602 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:03.802 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/output.osm...
16:01:03.912 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbDcStreetsConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

