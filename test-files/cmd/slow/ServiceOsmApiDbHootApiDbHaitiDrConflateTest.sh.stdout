reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/haiti-and-domrep-latest-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/PapMgcpClip-cropped.osm
AOI:  -72.4822997917,18.5264918926,-72.4768066276,18.531700324028872
TEST_NAME:  ServiceOsmApiDbHootApiDbHaitiDrConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

19:35:06.947 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:06.951 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm...
19:35:07.014 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (52900).
19:35:07.015 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (53432).
19:35:07.015 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (315342451) in relation (307828).
19:35:07.015 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
19:35:07.050 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:07.246 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
19:35:07.345 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
19:35:07.345 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244310
19:35:07.345 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
19:35:07.346 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244336
19:35:07.356 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
19:35:07.356 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1240526 (DB ID=113) has ref to Entry: role: tributary, eid: Relation:1241599
19:35:07.358 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1391) hoot::OsmApiDbBulkWriter: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
19:35:07.369 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
19:35:07.377 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
19:35:07.380 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
19:35:07.468 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
19:35:07.468 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
19:35:07.468 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
19:35:07.468 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
19:35:07.468 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087
19:35:07.469 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 31,087 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
19:35:08.280 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
19:35:08.281 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087

STEP 5: Writing the complete secondary dataset to the hoot api db...

19:35:08.501 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
19:35:08.504 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm...
19:35:08.510 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

19:35:09.082 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest
19:35:09.083 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:09.181 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
19:35:09.294 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
19:35:09.294 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
19:35:09.294 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
19:35:09.294 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 228         
19:35:09.330 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
19:35:09.331 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
19:35:09.391 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
19:35:09.391 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
19:35:09.392 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
19:35:09.392 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
19:35:09.392 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
19:35:09.392 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
19:35:09.392 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:35:09.393 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
19:35:09.393 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
19:35:09.393 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
19:35:09.430 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
19:35:09.433 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
19:35:09.875 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
19:35:09.881 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
19:35:11.503 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
19:35:11.504 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
19:35:11.504 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
19:35:11.513 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
19:35:11.514 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
19:35:11.514 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
19:35:11.514 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 1
19:35:11.514 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
19:35:11.514 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 1 mergers...
19:35:11.541 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
19:35:11.541 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 160         
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
19:35:11.542 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
19:35:11.542 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
19:35:11.543 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 158         
19:35:11.543 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
19:35:11.718 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

19:35:12.063 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
19:35:12.064 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:12.241 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

19:35:12.623 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
19:35:12.624 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:12.778 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
19:35:12.829 INFO  .../OsmChangesetXmlFileWriter.cpp(  74) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

19:35:13.088 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=18.527401, max_lat=18.538810, min_lon=-72.480594, max_lon=-72.475766, num_changes=72
Node(s) Created: 67
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 4
Way(s) Modified: 1
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

19:35:13.525 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:35:13.528 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
19:35:13.549 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
19:35:15.064 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
19:35:15.365 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/output.osm...
19:35:15.492 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

