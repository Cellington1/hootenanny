reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/haiti-and-domrep-latest-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/PapMgcpClip-cropped.osm
AOI:  -72.4822997917,18.5264918926,-72.4768066276,18.531700324028872
TEST_NAME:  ServiceOsmApiDbHootApiDbHaitiDrConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

14:20:46.307 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:46.310 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm...
14:20:46.377 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (52900).
14:20:46.377 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (53432).
14:20:46.378 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (315342451) in relation (307828).
14:20:46.378 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
14:20:46.413 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:46.500 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
14:20:46.599 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
14:20:46.599 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244310
14:20:46.600 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
14:20:46.600 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244336
14:20:46.609 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
14:20:46.609 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1240526 (DB ID=113) has ref to Entry: role: tributary, eid: Relation:1241599
14:20:46.612 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1391) hoot::OsmApiDbBulkWriter: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
14:20:46.622 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
14:20:46.629 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
14:20:46.632 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
14:20:46.719 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:46.720 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:46.720 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:46.720 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087
14:20:46.720 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 31,087 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
14:20:47.482 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087

STEP 5: Writing the complete secondary dataset to the hoot api db...

14:20:47.629 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
14:20:47.633 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm...
14:20:47.639 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

14:20:47.970 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest
14:20:47.970 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:48.052 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
14:20:48.159 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
14:20:48.159 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
14:20:48.159 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
14:20:48.159 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 228         
14:20:48.189 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
14:20:48.190 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
14:20:48.252 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
14:20:48.253 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
14:20:48.254 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
14:20:48.254 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
14:20:48.254 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
14:20:48.254 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
14:20:48.255 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:48.255 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
14:20:48.255 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
14:20:48.256 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
14:20:48.292 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
14:20:48.292 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
14:20:48.723 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
14:20:48.733 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
14:20:50.307 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
14:20:50.308 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
14:20:50.308 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
14:20:50.315 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
14:20:50.318 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
14:20:50.318 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
14:20:50.318 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 1
14:20:50.318 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
14:20:50.318 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 1 mergers...
14:20:50.342 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
14:20:50.344 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 160         
14:20:50.345 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
14:20:50.345 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
14:20:50.346 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 158         
14:20:50.346 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
14:20:50.538 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

14:20:50.701 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
14:20:50.703 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:50.866 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

14:20:51.103 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
14:20:51.104 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:51.214 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
14:20:51.274 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

14:20:51.418 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=18.527401, max_lat=18.538810, min_lon=-72.480594, max_lon=-72.475766, num_changes=72
Node(s) Created: 67
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 4
Way(s) Modified: 1
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

14:20:51.684 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:51.686 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
14:20:51.710 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
14:20:53.039 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
14:20:53.265 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/output.osm...
14:20:53.398 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

