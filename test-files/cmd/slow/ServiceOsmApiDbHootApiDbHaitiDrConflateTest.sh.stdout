reference dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/haiti-and-domrep-latest-cropped.osm
secondary dataset:  test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/PapMgcpClip-cropped.osm
AOI:  -72.4822997917,18.5264918926,-72.4768066276,18.531700324028872
TEST_NAME:  ServiceOsmApiDbHootApiDbHaitiDrConflateTest

STEP 1: Cleaning out the osm api db and initializing it for use...

 setval 
--------
      1
(1 row)


STEP 2: Writing the complete reference dataset to the osm api db...

16:01:05.936 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:05.939 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.osm...
16:01:06.002 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (52900).
16:01:06.002 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (250651104) in relation (53432).
16:01:06.002 WARN  .../hoot/core/io/OsmXmlReader.cpp( 552) Missing node (315342451) in relation (307828).
16:01:06.002 WARN  .../hoot/core/io/OsmXmlReader.cpp( 556) hoot::OsmXmlReader: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
16:01:06.043 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:06.127 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 771) Streaming elements from input to file outputs.  (data pass #1 of 3)...
16:01:06.229 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
16:01:06.229 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244310
16:01:06.229 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
16:01:06.229 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1244309 (DB ID=81) has ref to Entry: role: tributary, eid: Relation:1244336
16:01:06.239 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1384) Found unresolved relation member ref!:
16:01:06.239 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1387) Relation ID 1240526 (DB ID=113) has ref to Entry: role: tributary, eid: Relation:1241599
16:01:06.241 WARN  ...core/io/OsmApiDbBulkWriter.cpp(1391) hoot::OsmApiDbBulkWriter: Reached the maximum number of allowed warning messages for this class set by the setting log.warn.message.limit.  Silencing additional warning messages for this class...
16:01:06.252 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 351) Input records parsed (data pass #1 of 3).  Time elapsed: 00:00
16:01:06.259 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 730) Writing sequence ID updates to database to reserve record IDs...
16:01:06.261 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 482) Writing combined SQL output file to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/2-ref-raw-complete.sql.  (data pass #2 of 3)...
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 621) SQL file write complete.  (data pass #2 of 3).  Time elapsed: 00:00
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 398) File write stats:
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087
16:01:06.348 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 429) Executing element SQL for 31,087 records (data pass #3 of 3).  17 separate SQL COPY statements will be executed...
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 436) SQL execution complete.  Time elapsed: 00:00
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 404) Final database write stats:
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Nodes: 3,821
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Node tags: 135
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Ways: 377
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way nodes: 4,336
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Way tags: 1,606
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relations: 657
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation members: 52
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Relation tags: 4,559
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Unresolved relation members: 0
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changesets: 1
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Changeset change size (each): 50,000
16:01:07.100 INFO  ...core/io/OsmApiDbBulkWriter.cpp( 279) 	Executable SQL records: 31,087

STEP 5: Writing the complete secondary dataset to the hoot api db...

16:01:07.242 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
16:01:07.245 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/5-secondary-raw-complete.osm...
16:01:07.251 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 8: Conflating the two datasets over the specified AOI...

16:01:07.562 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 120) Conflating osmapidb://hoot:hoottest@localhost:5432/osmapi_test with hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing the output to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest
16:01:07.563 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:07.633 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/5-secondary-complete-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
16:01:07.780 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 163) Applying pre-conflation operations...
16:01:07.781 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineRemoveOp
16:01:07.781 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::MapCleaner
16:01:07.781 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ReprojectToPlanarOp
Reprojecting 0 / 228         
16:01:07.812 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateWayRemover
16:01:07.813 INFO  ...hoot/core/schema/OsmSchema.cpp(1851) Loading translation files...
16:01:07.874 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousWayRemover
16:01:07.875 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::IntersectionSplitter
16:01:07.876 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::UnlikelyIntersectionRemover
16:01:07.876 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DualWaySplitter
16:01:07.876 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::ImpliedDividedMarker
16:01:07.877 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::DuplicateNameRemover
16:01:07.877 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:01:07.877 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveEmptyAreasVisitor
16:01:07.878 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveDuplicateAreaVisitor
16:01:07.878 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::NoInformationElementRemover
16:01:07.917 INFO  ...conflate/UnifyingConflator.cpp( 124) Applying pre-unifying conflation operations...
16:01:07.917 INFO  ...lygon/BuildingMatchCreator.cpp( 252) Creating matches with: hoot::BuildingMatchCreator...
16:01:08.353 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: PoiGeneric.js...
16:01:08.364 INFO  ...ighway/HighwayMatchCreator.cpp( 274) Creating matches with: hoot::HighwayMatchCreator...
16:01:09.936 INFO  .../hoot/rules/LinearWaterway.js"(  33) "Calculating search radius for waterway conflation..."
16:01:09.937 INFO  ...ate/SearchRadiusCalculator.cpp( 149) Unable to automatically calculate search radius.  Not enough tie points.  Using default search radius value = 15
16:01:09.937 INFO  ...late/js/ScriptMatchCreator.cpp( 458) Creating matches with: hoot::ScriptMatchCreator; rules: LinearWaterway.js...
16:01:09.946 INFO  ...gon/PoiPolygonMatchCreator.cpp( 345) Creating matches with: hoot::PoiPolygonMatchCreator...
16:01:09.947 INFO  .../OptimalConstrainedMatches.cpp(  55) Calculating optimal match conflicts...
16:01:09.948 INFO  ...h/GreedyConstrainedMatches.cpp(  68) Calculating greedy match conflicts...
16:01:09.948 INFO  ...conflate/UnifyingConflator.cpp( 226) Match count: 1
16:01:09.948 INFO  ...conflate/UnifyingConflator.cpp( 243) Creating mergers...
16:01:09.948 INFO  ...conflate/UnifyingConflator.cpp( 260) Applying 1 mergers...
16:01:09.974 INFO  ...conflate/UnifyingConflator.cpp( 292) Applying post-unifying conflation operations...
16:01:09.974 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SuperfluousNodeRemover
Reprojecting 0 / 160         
16:01:09.975 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::SmallWayMerger
16:01:09.975 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 189) Applying post-conflation operations...
16:01:09.975 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveMissingElementsVisitor
16:01:09.975 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidReviewRelationsVisitor
16:01:09.975 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::RemoveDuplicateReviewsOp
16:01:09.975 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::BuildingOutlineUpdateOp
16:01:09.976 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  77) Applying visitor: hoot::RemoveInvalidMultilineStringMembersVisitor
16:01:09.976 INFO  .../cpp/hoot/core/ops/NamedOp.cpp(  57) Applying operation: hoot::AddHilbertReviewSortOrderOp
Reprojecting 0 / 158         
16:01:09.976 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
16:01:10.152 INFO  .../hoot/core/cmd/ConflateCmd.cpp( 248) Conflation job completed.

STEP 11: Writing a SQL changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI...

16:01:10.311 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql...
16:01:10.314 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:10.440 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...

STEP 12: Writing an XML changeset file that is the difference between the cropped reference input dataset specified AOI and the conflated output specified AOI (will not be applied to the database)...

16:01:10.672 INFO  ...ore/cmd/DeriveChangesetCmd.cpp( 107) Deriving changeset for inputs osmapidb://hoot:hoottest@localhost:5432/osmapi_test, hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest and writing output to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc...
16:01:10.673 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:10.835 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from hootapidb://hoot:hoottest@localhost:5432/hoot/8-conflated-ServiceOsmApiDbHootApiDbHaitiDrConflateTest...
16:01:10.888 INFO  .../OsmChangesetXmlFileWriter.cpp(  88) Writing changeset to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/12-conflated-changeset-ToBeAppliedToOsmApiDb.osc

STEP 13: Executing the changeset SQL on the osm api db...

16:01:11.030 INFO  ...core/cmd/ApplyChangesetCmd.cpp(  60) Applying changeset test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/11-conflated-changeset-ToBeAppliedToOsmApiDb.osc.sql to osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
Changeset(s) Created: 1
Changeset Details: min_lat=18.527401, max_lat=18.538810, min_lon=-72.480594, max_lon=-72.475766, num_changes=72
Node(s) Created: 67
Node(s) Modified: 0
Node(s) Deleted: 0
Way(s) Created: 4
Way(s) Modified: 1
Way(s) Deleted: 0
Relation(s) Created: 0
Relation(s) Modified: 0
Relation(s) Deleted: 0

STEP 15: Reading the entire contents of the osm api db, writing it into a file, and verifying the data...

16:01:11.295 INFO  ...p/hoot/core/cmd/ConvertCmd.cpp(  85) Converting osmapidb://hoot:hoottest@localhost:5432/osmapi_test to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:11.298 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from osmapidb://hoot:hoottest@localhost:5432/osmapi_test...
16:01:11.322 INFO  ...oot/core/io/OsmApiDbReader.cpp( 108) Executing OSM API read query...
16:01:12.924 INFO  ...ore/io/OsmMapWriterFactory.cpp( 106) Writing map to test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...
16:01:13.137 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-files/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/output.osm...
16:01:13.264 INFO  ...ore/io/OsmMapReaderFactory.cpp( 135) Loading map from test-output/cmd/slow/ServiceOsmApiDbHootApiDbHaitiDrConflateTest/15-complete-output-PulledFromOsmApiDb.osm...

STEP 16: Verifying the SQL changeset...


STEP 17: Verifying the XML changeset...

